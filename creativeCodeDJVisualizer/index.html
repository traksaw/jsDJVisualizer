<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>DJ Visualizer ‚Äì Creative Code</title>
    
    <!-- External Styles -->
    <link rel="stylesheet" href="styles/styles.css">
    
    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
    <script src="https://unpkg.com/p5.asciify@1.3.18/lib/p5.asciify.js"></script>
  </head>
  <body>
    <div class="controls">
      <div class="control-group">
        <button id="start">Start Audio</button>
        <button id="fullscreen">Fullscreen</button>
      </div>
      
      <div class="control-group">
        <label for="visualMode">Visualization:</label>
        <select id="visualMode">
          <option value="spectrum">Spectrum Bars</option>
          <option value="particles">Floating Particles</option>
          <option value="rings">Frequency Rings</option>
          <option value="waveform">DJ Waveform</option>
          <option value="waves">Wave Forms</option>
          <option value="mandala">Mandala</option>
          <option value="tunnel">Tunnel Vision</option>
          <option value="galaxy">Galaxy</option>
          <option value="polygons">Polygon Collage</option>
        </select>
      </div>
      
      <div class="control-group sensitivity-controls">
        <div class="slider-group">
          <label for="bassGain">Bass</label>
          <input type="range" id="bassGain" min="0.1" max="3" step="0.1" value="1">
          <span id="bassValue">1.0</span>
        </div>
        <div class="slider-group">
          <label for="midGain">Mid</label>
          <input type="range" id="midGain" min="0.1" max="3" step="0.1" value="1">
          <span id="midValue">1.0</span>
        </div>
        <div class="slider-group">
          <label for="highGain">High</label>
          <input type="range" id="highGain" min="0.1" max="3" step="0.1" value="1">
          <span id="highValue">1.0</span>
        </div>
      </div>
      
      <div class="status-info">
        <span id="deviceStatus">No device selected</span>
        <span id="bpmCounter">BPM: --</span>
        <div class="beat-indicator" id="beatIndicator"></div>
        <span id="fpsCounter">FPS: --</span>
      </div>
    </div>
    
    <div class="visualizer-container">
      <div id="spectrum-visualizer"></div>
      <div id="p5-canvas"></div>
    </div>
    
    <div class="frequency-info">
      <div class="freq-band bass">
        <div class="freq-fill bass-fill"></div>
        <span class="freq-label">BASS</span>
        <span class="freq-range">20-250Hz</span>
      </div>
      <div class="freq-band mid">
        <div class="freq-fill mid-fill"></div>
        <span class="freq-label">MID</span>
        <span class="freq-range">250-4kHz</span>
      </div>
      <div class="freq-band high">
        <div class="freq-fill high-fill"></div>
        <span class="freq-label">HIGH</span>
        <span class="freq-range">4k-20kHz</span>
      </div>
    </div>
    
    <!-- Help Overlay -->
    <div id="helpOverlay" class="help-overlay" style="display: none;">
      <div class="help-content">
        <h3>üéõÔ∏è DJ Visualizer Controls</h3>
        <div class="help-section">
          <h4>üéπ Keyboard Shortcuts</h4>
          <p><kbd>Space</kbd> - Start/Stop Audio</p>
          <p><kbd>F</kbd> - Toggle Fullscreen</p>
          <p><kbd>1-4</kbd> - Switch Visualization Modes</p>
          <p><kbd>R</kbd> - Reset All Gains to 1.0</p>
          <p><kbd>?</kbd> - Show/Hide This Help</p>
        </div>
        <div class="help-section">
          <h4>üéöÔ∏è Live Performance Tips</h4>
          <p>‚Ä¢ Use Pioneer DDJ-REV1 for best audio quality</p>
          <p>‚Ä¢ BPM detection works best with kick drums</p>
          <p>‚Ä¢ Adjust frequency gains for visual balance</p>
          <p>‚Ä¢ Beat indicator flashes with detected tempo</p>
        </div>
        <p class="help-close">Press <kbd>?</kbd> or <kbd>Esc</kbd> to close</p>
      </div>
    </div>

    <!-- Application Modules -->
    <script src="app/audioProcessor.js"></script>
    <script src="app/visualizer.js"></script>
    <script src="app/app.js"></script>
  </body>
</html>
