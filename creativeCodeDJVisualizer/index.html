<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>DJ Visualizer ‚Äì Creative Code</title>
    
    <!-- External Styles -->
    <link rel="stylesheet" href="styles/styles.css">
    
    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
    <script src="https://unpkg.com/p5.asciify@1.3.18/lib/p5.asciify.js"></script>
  </head>
  <body>
    <div class="app-container">
      <!-- Sidebar Controls -->
      <div class="sidebar">
        <div class="sidebar-header">
          <h2>üéõÔ∏è DJ Controls</h2>
        </div>
        
        <div class="control-section">
          <h3>Audio</h3>
          <div class="control-group">
            <button id="start">Start Audio</button>
            <button id="fullscreen">Fullscreen</button>
          </div>
        </div>
        
        <div class="control-section">
          <h3>Visualization</h3>
          <div class="control-group">
            <label for="visualMode">Mode:</label>
            <select id="visualMode">
              <option value="spectrum">Spectrum Bars</option>
              <option value="particles">Floating Particles</option>
              <option value="rings">Frequency Rings</option>
              <option value="waves">Wave Forms</option>
              <option value="mandala">Mandala</option>
              <option value="tunnel">Tunnel Vision</option>
              <option value="galaxy">Galaxy</option>
              <option value="polygons">Polygon Collage</option>
            </select>
          </div>
        </div>
        
        <div class="control-section">
          <h3>EQ Sensitivity</h3>
          <div class="sensitivity-controls">
            <div class="slider-group">
              <label for="bassGain">Bass</label>
              <input type="range" id="bassGain" min="0.1" max="3" step="0.1" value="1">
              <span id="bassValue">1.0</span>
            </div>
            <div class="slider-group">
              <label for="midGain">Mid</label>
              <input type="range" id="midGain" min="0.1" max="3" step="0.1" value="1">
              <span id="midValue">1.0</span>
            </div>
            <div class="slider-group">
              <label for="highGain">High</label>
              <input type="range" id="highGain" min="0.1" max="3" step="0.1" value="1">
              <span id="highValue">1.0</span>
            </div>
          </div>
        </div>
        
        <div class="control-section">
          <h3>EQ Levels</h3>
          <div class="frequency-info">
            <div class="freq-band bass">
              <div class="freq-fill bass-fill"></div>
              <span class="freq-label">BASS</span>
            </div>
            <div class="freq-band mid">
              <div class="freq-fill mid-fill"></div>
              <span class="freq-label">MID</span>
            </div>
            <div class="freq-band high">
              <div class="freq-fill high-fill"></div>
              <span class="freq-label">HIGH</span>
            </div>
          </div>
          <div class="freq-ranges">
            <span class="freq-range">20-250Hz</span>
            <span class="freq-range">250-4kHz</span>
            <span class="freq-range">4k-20kHz</span>
          </div>
        </div>
        
        <div class="control-section">
          <h3>Status</h3>
          <div class="status-info">
            <div class="status-item">
              <span class="status-label">Device:</span>
              <span id="deviceStatus">No device selected</span>
            </div>
            <div class="status-item">
              <span class="status-label">BPM:</span>
              <span id="bpmCounter">--</span>
              <div class="beat-indicator" id="beatIndicator"></div>
            </div>
            <div class="status-item">
              <span class="status-label">FPS:</span>
              <span id="fpsCounter">--</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Main Content Area -->
      <div class="main-content">
        <div class="visualizer-container">
          <div id="spectrum-visualizer"></div>
          <div id="p5-canvas"></div>
        </div>
      </div>
    </div>
    
    <!-- Help Overlay -->
    <div id="helpOverlay" class="help-overlay" style="display: none;">
      <div class="help-content">
        <h3>üéõÔ∏è DJ Visualizer Controls</h3>
        <div class="help-section">
          <h4>üéπ Keyboard Shortcuts</h4>
          <p><kbd>Space</kbd> - Start/Stop Audio</p>
          <p><kbd>F</kbd> - Toggle Fullscreen</p>
          <p><kbd>1-4</kbd> - Switch Visualization Modes</p>
          <p><kbd>R</kbd> - Reset All Gains to 1.0</p>
          <p><kbd>?</kbd> - Show/Hide This Help</p>
        </div>
        <div class="help-section">
          <h4>üéöÔ∏è Live Performance Tips</h4>
          <p>‚Ä¢ Use Pioneer DDJ-REV1 for best audio quality</p>
          <p>‚Ä¢ BPM detection works best with kick drums</p>
          <p>‚Ä¢ Adjust frequency gains for visual balance</p>
          <p>‚Ä¢ Beat indicator flashes with detected tempo</p>
        </div>
        <p class="help-close">Press <kbd>?</kbd> or <kbd>Esc</kbd> to close</p>
      </div>
    </div>

    <!-- Application Modules -->
    <script src="app/audioProcessor.js"></script>
    <script src="app/visualizer.js"></script>
    <script src="app/app.js"></script>
  </body>
</html>
